daemonset
daemonset保证在每个node上都运行一个容器副本。常用来部署一些集群的日志，监控或其他系统管理应用
典型应用包括：
  日志收集：fluentd，logstash
  系统监控：prometheus node exporter,collectd,new relic agent,ganglia gmond
  系统程序:kube-proxy,kube-dns,glusterd,ceph

指定node节点
daemonset会忽略node的unschedulable状态，有两种方式指定pod运行在指定的node上
    nodeSelector:只调度到匹配指定label的node上
    nodeAffinity：功能更丰富的node选择器
    podAffinity：调度到满足条件的pod所在的node上



ex

fluentd
apiVersion: extensions/v1beta1
kind: DamonSet
metadata:
  name: flientd
spec:
  template:
    metadate:
      labels:
        app: logging
        id:fluentd
      name:fluentd
    spec:
      containers:
      - name:fluentd-es
        image: gcr.io/google_containers/fluentd-elasticsearch:1.3
        env:
         - name: FLUENTD_ARGS
           value: -qq
        volumeMounts:
         - name: containers
           mountPath: /var/lib/docker/containers
         - name: varlog
           mountPath: /varlog
      volumes:
        - hostPath:
            path: /var/lib/docker/containers
          name: containers
        - hostPath:
            path: /var/log
          name: varlog
          
          
